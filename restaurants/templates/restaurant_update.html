{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block page_content %}
  {% comment %} when i have autofill with mapbox i cannot save the form as it adds address-search to the variable sent {% endcomment %}
  {% comment %} <head>
  <script id="search-js" defer src="https://api.mapbox.com/search-js/v1.0.0-beta.17/web.js"></script>
<script>
    const script = document.getElementById('search-js');
    script.onload = function() {
        mapboxsearch.autofill({
            accessToken: 'ADD ENV LINK HERE'
        });
    };
</script>
  </head> {% endcomment %}
  <body>
    <div class="container">
      <h1 class= "mb-5 mt-5">Update {{ restaurant.name|title }}</h1>
      <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-group">
          {{ form.name.label }}
          <input type="text"
                 class="form-control mb-4"
                 name="name"
                 value="{{ restaurant.name }}">
          {{ form.description.label }}
          <input type="text"
                 class="form-control mb-4"
                 name="description"
                 value="{{ restaurant.description }}">
          {{ form.address.label }}
          <input type="text"
                 class="form-control mb-4"
                 name="address"
                 value="{{ restaurant.address }}">
          {% comment %} autocomplete="address-line1" to add to above field {% endcomment %}
          {{ form.image.label }}
          <div class="custom-file  mb-4">
            <input type="file"
                   class="custom-file-input"
                   name="image"
                   value="{{ restaurant.image }}">
            <label class="custom-file-label" for="{{ form.image.label }}">{{ restaurant.name }}'s image</label>
          </div>
        </div>
        <div class="text-center">
        <input type="submit" value="Update Restaurant" class="btn btn-primary" />
        </div>
      </div>
    </form>
</body>
{% endblock %}
